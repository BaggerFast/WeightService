@using PSC.Blazor.Components.Chartjs.Models.Line
@using PSC.Blazor.Components.Chartjs.Models.Common
@using PSC.Blazor.Components.Chartjs

<Chart
  Config="@(new LineChartConfig { Data = new() { Labels = Labels, Datasets = [MainDataset] }, Options = ChartOptions })"
  Class="size-full"
/>

@code {
  [Parameter] public List<string> Labels { get; set; } = [];
  [Parameter] public List<decimal?> Data { get; set; } = [];

  private Chart Chart { get; set; } = new();

  private Options ChartOptions { get; } = new()
  {
    Responsive = true,
    MaintainAspectRatio = false,
    Plugins = new() { Legend = new() {Display = false }},
    Scales = new()
    {
      {"x", new() { Grid = new() { Display = false } }},
      {"y", new() { Grid = new() { Color = "rgba(201, 201, 201, 0.5)", DrawBorder = false } }}
    }
  };

  private LineDataset MainDataset => new()
  {
    Data = Data,
    BorderColor = "#2662d9",
    CubicInterpolationMode = CubicInterpolationMode.Monotone
  };
}
