@using Microsoft.Extensions.Localization
@using ScalesDesktop.Source.Features
@using Ws.Shared.Resources
<div class="size-full flex flex-col overflow-hidden">
  <PalletWorkspaceHeader
    TabsList="TabsButtonList"
    CurrentTabId="@CurrentTabId"
  />
  <div class="size-full flex flex-col grow overflow-hidden bg-secondary/[.3]">
    <Tabs @bind-ActiveTabId="CurrentTabId">
      <Tab Id="typeof(PalletOverview)">
        <PalletOverview />
      </Tab>
      <Tab Id="typeof(LabelsGrid)">
        <LabelsGrid />
      </Tab>
    </Tabs>
  </div>
</div>

@code {
  [Inject] private IStringLocalizer<WsDataResources> WsDataLocalizer { get; set; } = default!;

  private List<KeyValuePair<Type, string>> TabsButtonList { get; set; } = [];
  private Type CurrentTabId { get; set; } = typeof(PalletOverview);

  protected override void OnInitialized() =>
    TabsButtonList = [
      new(typeof(PalletOverview), WsDataLocalizer["ColData"]),
      new(typeof(LabelsGrid), WsDataLocalizer["ColLabel"])
    ];
}