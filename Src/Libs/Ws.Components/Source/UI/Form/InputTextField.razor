@inherits InputBase<string>

<input
  id="@HtmlId"
  type="@HtmlType"
  @attributes="AdditionalAttributes"
  @bind="Value"
  @bind:after="OnValueChanged"
  @onblur="OnBlur"
  class="@Css.Class("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",
           "placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50", Class)"
  disabled="@Disabled"
  readonly="@ReadOnly"
  autofocus="@AutoFocus"
  placeholder="@Placeholder"
/>

@code {
  private async Task OnBlur()
  {
    Value = Value?.Trim();
    await ValueChanged.InvokeAsync(Value);
  }

  [Parameter] public TextInputType Type { get; set; } = TextInputType.Text;

  private string HtmlType => Type switch
  {
    TextInputType.Password => "password",
    TextInputType.Url => "url",
    TextInputType.Email => "email",
    TextInputType.Telephone => "tel",
    TextInputType.Search => "search",
    _ => "text"
  };
}
