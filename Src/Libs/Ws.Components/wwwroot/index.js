const e=e=>{const t=e.querySelector(".width-sub-element"),n=e.querySelector(".width-ref-element");n&&t&&(n.style.width=`${t.offsetWidth}px`)};window.subscribeElementResize=t=>{if(!t)return;const n=()=>e(t);n(),window.addEventListener("resize",n),t.resizeHandler=n},window.updateElementSize=t=>e(t),window.unsubscribeElementResize=e=>{const t=e.resizeHandler;t&&(window.removeEventListener("resize",t),delete e.resizeHandler)},window.isElementContainsFocusedItem=e=>!!e&&e.contains(document.activeElement);window.animateDialogOpening=async e=>{const t=document.querySelector(`#${e}`)?.dialog;if(!t)return;t.classList.add("ease-in-out");const n=t.animate([{opacity:"0",transform:"scale(.95)"},{opacity:"1",transform:""}],{duration:150});await n.finished},window.animateDialogClosing=async e=>{const t=document.querySelector(`#${e}`)?.dialog;if(!t)return;t.classList.add("ease-in-out");const n=t.animate([{opacity:"1",transform:""},{opacity:"0",transform:"scale(.8)"}],{duration:150});t.style.opacity="0.0",await n.finished};let t=null;window.subscribeMiddleMouseClickEvent=(e,n)=>{t=t=>(async(e,t,n)=>{1===e.button&&await t.invokeMethodAsync(n)})(t,e,n),document.addEventListener("mousedown",t)},window.unsubscribeMiddleMouseClickEvent=()=>{null!==t&&document.removeEventListener("mousedown",t)};let n=null,o=null,i="";window.subscribeBarcodeEnterEvent=(e,t)=>{o=o=>(async(e,t,o)=>{if(n&&clearInterval(n),"Enter"===e.key)return i&&await t.invokeMethodAsync(o,i),void(i="");"Shift"!==e.key&&(i+=e.key),n=setInterval((()=>i=""),20)})(o,e,t),document.addEventListener("keypress",o)},window.unsubscribeBarcodeEnterEvent=()=>{null!==o&&document.removeEventListener("keypress",o)},window.switchTheme=e=>{const t=document.documentElement;let n="dark"===e;"system"===e?(localStorage.removeItem("color-theme"),n=window.matchMedia("(prefers-color-scheme: dark)").matches):localStorage.setItem("color-theme",e),t.classList.toggle("dark",n)},window.initializeTheme=()=>{"dark"===localStorage.getItem("color-theme")||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};
