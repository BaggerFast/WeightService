@typeparam TItem

<div @ref="DropdownWrapper" class="w-full">
  <SelectTrigger
    id="@Id"
    OnClick="@OpenDropdown"
    IsDisabled="@IsDisabled"
    IsActive="@IsOpen"
    Class="select-button"
  >
    <span class="pointer-events-none line-clamp-1">@GetToggleText</span>
  </SelectTrigger>
  <Dropdown
    Anchor="@Id"
    @bind-IsOpen="IsOpen"
    Class="select-dropdown"
    VerticalThreshold="@(Math.Max(Items.Count(), 8) * 40)"
  >
    @if (IsFilterable)
    {
      <SelectSearch
        @bind-Value="SearchString"
        Placeholder="@SearchPlaceholder"
      />
    }
    <div class="w-full h-full overflow-x-hidden max-h-72 overflow-y-auto p-1">
      <ul class="flex flex-col w-full">
        @if (!GetFilteredList.Any())
        {
          <div class="h-10 w-full flex items-center justify-center text-sm">
            <span>@EmptyPlaceholder</span>
          </div>
        }
        @foreach (TItem item in GetFilteredList)
        {
          <li>
            <SelectItem OnClick="@(() => SetSelectedItem(item))" IsActive="@IsSelectedItem(item)">
              @ItemDisplayName(item)
            </SelectItem>
          </li>
        }
      </ul>
    </div>
  </Dropdown>
</div>
