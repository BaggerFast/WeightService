@using DeviceControl.Components.Rz
@using DeviceControl.Components.Item
@attribute [Authorize(Roles = UserAccessStr.Read)]

<div Style="display: flex; margin-bottom: 10px">
  <RadzenDropDown TValue="List<SqlPluEntity>" @bind-Value="@SelectedPlus" Data="@Plus" TextProperty="DisplayName"
                Multiple="true" AllowFiltering="true" AllowClear="true" Placeholder="Select plu" AllowSelectAll="false"
                Style="width: 100%;" />
</div>

<RzDataGrid
  TItem="@SqlPluEntity"
  PagerPosition = "PagerPosition.Bottom"
  Data="@SelectedPlus">
  <Columns>
    <TItemContent TItem="@SqlPluEntity">
      <RadzenDataGridColumn Title="@Locale.Name" Property="Name"/>
      <RadzenDataGridColumn Title="@Locale.Weighted" SortProperty="IsCheckWeight">
        <Template Context="itemCast">
          <RadzenCheckBox ReadOnly="true" TValue="bool" @bind-Value="@itemCast.IsCheckWeight"/>
        </Template>
      </RadzenDataGridColumn>
      <RadzenDataGridColumn Title="@Locale.Number" Property="Number"/>
    </TItemContent>
  </Columns>
</RzDataGrid>


<ItemActions
  ButtonSettings="@ButtonSettings"
  OnItemSave="@SaveItem"
  OnItemCancel="@ReloadPage"/>