@using Ws.Domain.Models.Enums
@using Ws.Domain.Models.Entities.Ref
@inherits SectionFormBase<Ws.Domain.Models.Entities.Ref.LineEntity>


<SectionFormWrapper
  OnSubmitAction="() => UpdateItem(SectionEntity, LineService.Update)"
  ResetItemAction="ResetItem"
  ShareUrl="@($"{RouteUtils.SectionLines}/{SectionEntity.Uid}")"
  DeleteItemAction="() => DeleteItem(LineService.Delete)"
  ChangeDate="SectionEntity.ChangeDt"
  CreateDate="SectionEntity.CreateDt"
>
  <SectionInputGuid
    Value="@SectionEntity.Uid"
  />
  <SectionFormInputNumeric
    @bind-Value="@SectionEntity.Number"
    Label="@Localizer["DataGridColumnNumber"]"
    MinValue="10000"
    MaxValue="99999"
  />
  <SectionFormInputText
    @bind-Value="@SectionEntity.Name"
    Label="@Localizer["DataGridColumnName"]"
  />
  <SectionFormInputText
    @bind-Value="@SectionEntity.PcName"
    Label="@Localizer["DataGridColumnPcName"]"
  />
  <SectionFormInputSelect
    TItem="LineTypeEnum"
    Items="LineTypesEntities"
    Label="@Localizer["DataGridColumnType"]"
    @bind-SelectedItem="@SectionEntity.Type"
    ItemDisplayName="item => EnumHelper.GetEnumDescription(item)"
  />
  <SectionFormInputNumeric
    TValue="int"
    @bind-Value="@SectionEntity.Counter"
    Label="@Localizer["DataGridColumnCounter"]"
    MinValue="0"
  />
  <SectionFormInputSelect
    TItem="PrinterEntity"
    Items="PrinterEntities"
    Label="@Localizer["DataGridColumnPrinter"]"
    Link="@RedirectUtils.ToPrinter(SectionEntity.Printer, User)"
    @bind-SelectedItem="@SectionEntity.Printer"
    ItemDisplayName="item => item.DisplayName"
    IsFilterable
  />
  <SectionFormInputSelect
    TItem="WarehouseEntity"
    Items="WarehousesEntities"
    Label="@Localizer["DataGridColumnWarehouse"]"
    Link="@RedirectUtils.ToWarehouse(SectionEntity.Warehouse, User)"
    @bind-SelectedItem="@SectionEntity.Warehouse"
    ItemDisplayName="item => item.Name"
    IsFilterable
  />
</SectionFormWrapper>