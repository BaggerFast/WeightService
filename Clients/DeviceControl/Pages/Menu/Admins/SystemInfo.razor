@page "/system"
@attribute [Authorize(Roles = WsUserAccessStr.Admin)]
@using DeviceControl.Components.Item
@using DeviceControl.Utils
@inherits ComponentBase

<MudElement HtmlTag="h3" Class="ma-0">@WsLocaleCore.System.SystemInfo</MudElement>
<MudSimpleTable Style="overflow-x: auto;" Dense="true" Bordered="true" FixedHeader="false">
  <ItemTableHead />
  <tbody>
  <tr>
    <td>DeviceControl / WsBlazorCore/ WsStorageCore</td>
    <td colspan="2">@($"v{VerApp} / v{VerLibBlazorCore} / v{VerLibDataCore}")</td>
  </tr>
  <tr>
    <td>@WsLocaleCore.Strings.HostName</td>
    <td colspan="2">@Environment.MachineName</td>
  </tr>
  <tr style="height: 200px;">
    <td>@WsLocaleCore.Strings.DbAndMemoryGauge</td>
    <td>
      <div align="center">
        <h4>Windows</h4>
      </div>
      <div align="center">
        <RadzenRadialGauge>
          <RadzenRadialGaugeScale StartAngle="-150" EndAngle="150" Step="1000" Min="0" Max="@TotalRamSize"
                                  TickPosition="@GaugeTickPosition.Inside">
            <RadzenRadialGaugeScalePointer Value="@CurrentRamSize" Length="0.6" ShowValue="true">
              <Template Context="pointer">
                <h4>
                  @pointer.Value <sup>MB</sup>
                </h4>
              </Template>
            </RadzenRadialGaugeScalePointer>
            <RadzenRadialGaugeScaleRange From="0" To="@(TotalRamSize * 0.75)" Fill="green"/>
            <RadzenRadialGaugeScaleRange From="@(TotalRamSize * 0.75)" To="@(TotalRamSize * 0.9)" Fill="orange"/>
            <RadzenRadialGaugeScaleRange From="@(TotalRamSize * 0.9)" To="@TotalRamSize" Fill="red"/>
          </RadzenRadialGaugeScale>
        </RadzenRadialGauge>
      </div>
    </td>
  </tr>
  </tbody>
</MudSimpleTable>