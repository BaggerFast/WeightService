@page "/system_sql_versions"
@attribute [Authorize(Roles = UserAccessStr.Admin)]
@using WsStorageCore.TableScaleModels.Versions
@using WsDataCore.Utils
@using DeviceControl.Components.Section
@using DeviceControl.Components.Rz
@inherits SectionBase<WsStorageCore.TableScaleModels.Versions.WsSqlVersionModel>

<SectionTopBar
  Title="@WsLocaleCore.Strings.VersionsDb"
  OnSectionUpdate="@GetSectionData"
  OnSectionAdd="@SqlItemNewAsync"
  SectionCount="@SqlSectionCast.Count"
  SqlCrudConfigSection="@SqlCrudConfigSection"
  ButtonSettings="@ButtonSettings"/>

<RzDataGrid
  TItem="@WsSqlVersionModel"
  Data="@SqlSectionCast">
  <Columns>
    <TItemContent TItem="@WsSqlVersionModel">
      <RadzenDataGridColumn Title="@WsLocaleCore.Table.ReleaseDt" Property="ReleaseDt" Width="15%"
                            FormatString="@WsStrUtils.FormatDtShort"/>
      <RadzenDataGridColumn Title="@WsLocaleCore.Table.Version" Property="Version" Width="10%"/>
      <RadzenDataGridColumn Title="@WsLocaleCore.Table.Description" Property="Description" Width="75%"/>
    </TItemContent>
  </Columns>
</RzDataGrid>