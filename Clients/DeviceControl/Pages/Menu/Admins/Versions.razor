@page "/section/versions"
@attribute [Authorize(Roles = UserAccessStr.Admin)]
@using WsStorageCore.TableScaleModels.Versions
@using WsDataCore.Utils
@using DeviceControl.Components.Section
@using DeviceControl.Components.Rz
@inherits RazorComponentSectionBase<WsStorageCore.TableScaleModels.Versions.WsSqlVersionModel>

<SectionTopBar
  Title="@LocaleCore.Strings.VersionsDb"
  OnSectionUpdate="@GetSectionData"
  OnSectionAdd="@SqlItemNewAsync"
  SectionCount="@SqlSectionCast.Count"
  SqlCrudConfigSection="@SqlCrudConfigSection"
  ButtonSettings="@ButtonSettings"/>

<RzDataGrid
  TItem="@WsSqlVersionModel"
  Data="@SqlSectionCast">
  <Columns>
    <TItemContent TItem="@WsSqlVersionModel">
      <RadzenDataGridColumn Title="@LocaleCore.Table.ReleaseDt" Property="ReleaseDt" Width="15%" FormatString="@StrUtils.FormatDtShort"/>
      <RadzenDataGridColumn Title="@LocaleCore.Table.Version" Property="Version" Width="10%"/>
      <RadzenDataGridColumn Title="@LocaleCore.Table.Description" Property="Description" Width="75%"/>
    </TItemContent>
  </Columns>
</RzDataGrid>