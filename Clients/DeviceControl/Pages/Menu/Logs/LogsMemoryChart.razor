@page "/section/logs_memory_chart"
@attribute [Authorize(Roles = WsUserAccessStr.Admin)]
@using WsDataCore.Utils
@using DeviceControl.Components.Section
@using DeviceControl.Components.Rz
@using DeviceControl.Utils
@using WsStorageCore.Views.ViewDiagModels.LogsMemory
@inherits SectionBase<WsStorageCore.Views.ViewDiagModels.LogsMemory.WsSqlViewLogMemoryModel>

<RadzenCard class="w-100 mb-4" Style="display: flex; align-items: center; gap: 0.5rem">
  <RadzenLabel Text="Interpolation" For="interpolation" Style="margin-right: 1rem;"/>
  <RadzenDropDown
    AllowClear="false" Name="interpolation" @bind-Value="@_interpolation"
    TValue="Interpolation" ValueProperty="Value" TextProperty="Text"
    Data="@(Enum.GetValues<Interpolation>().Select(v => new { Value = v, Text = $"{v:G}" }))"/>
</RadzenCard>

<RadzenChart>
  <RadzenLineSeries Interpolation="@_interpolation" Data="@_valuesCurrent" CategoryProperty="Date" Title="2019" LineType="LineType.Dashed" ValueProperty="Revenue" />
  <RadzenAreaSeries Interpolation="@_interpolation" Data="@_valuesMaximum" CategoryProperty="Date" Title="2020" ValueProperty="Revenue" />
  <RadzenCategoryAxis Padding="20" Formatter="@FormatAsMonth"/>
  <RadzenValueAxis Formatter="@FormatAsUSD">
    <RadzenGridLines Visible="true"/>
    <RadzenAxisTitle Text="Revenue in USD"/>
  </RadzenValueAxis>
</RadzenChart>
