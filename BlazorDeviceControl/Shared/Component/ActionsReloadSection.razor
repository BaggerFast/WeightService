@inherits Shared.Component.ActionsReloadBase
@page "/component/actions_reload_section"
@using DataCore
@using DataCore.Localizations
@using DataCore.Sql.TableScaleModels
@using DataCore.Utils
@using Microsoft.AspNetCore.Components
@using static DataCore.ProjectsEnums
@using static DataCore.ShareEnums
@using BlazorCore.Utils
@using DataCore.Sql.Models

<MudElement HtmlTag="h3" Class="ma-0">
    @if (!string.IsNullOrEmpty(Title))
    {
        <RadzenLabel Style="margin-top: 3px; margin-left: 1%; font-size: 18px; " Text=@Title />
    }
    @if (ParentRazor == null)
    {
        <ActionsLoad ParentRazor=@(this) DataLoadItem=ActionLoad.Loading IsShowProgress=true />
    }
    else
    {
        <RadzenLabel Style="margin-top: 3px; margin-left: 1%; font-size: 14px; " 
        Text=@LocaleCore.Action.ActionIsSelectTopRowsCount(AppSettings.DataAccess.JsonSettingsLocal.SelectTopRowsCount) />
        <RadzenCheckBox Disabled=false TValue="bool" @bind-Value=@ParentRazor.IsSelectTopRows
            Change=@(args => OnChangeCheckBox(args, nameof(IsSelectTopRows)))
        />

        <RadzenLabel Style="margin-top: 3px; margin-left: 1%; font-size: 14px; " Text=@LocaleCore.Action.ActionIsShowMarked />
        <RadzenCheckBox Disabled=false TValue="bool" @bind-Value=@ParentRazor.IsShowMarkedItems
            Change=@(args => OnChangeCheckBox(args, nameof(IsShowMarkedItems)))
        />

        <RadzenButton 
            class="RadzenButtonShort" ButtonStyle=@ButtonStyle.Primary Icon="refresh"
                  Disabled=@(!AppSettings.DataAccess.IsConnected) Click=@(_ => ParentRazor.OnChange())
            MouseEnter=@(args => TooltipService.Open(args, LocaleCore.Table.TableRead))
            MouseLeave=@(_ => TooltipService.Close())
        />
        
        <RadzenLabel Style="margin-top: 3px; margin-left: 1%; font-size: 14px; " Text=@ItemsCountResult />
    }
</MudElement>
