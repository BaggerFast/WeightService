@inherits RazorComponentItemBase<DeviceModel>
@page "/item/device"
@page "/item/device/new"
@page "/item/device/{IdentityUidStr}"
@using BlazorCore.Razors
@using BlazorDeviceControl.Razors.SystemComponents

<SystemIdentity ParentRazor=@(this) />

<RazorItemReload TItem=@DeviceModel ParentRazor=@(this) Title=@LocaleCore.DeviceControl.ItemHost />

<MudSimpleTable Style="overflow-x: auto;" Dense=true Bordered=true FixedHeader=false>
	<RazorItemTableHead TItem=@DeviceModel ParentRazor=@(this) CssTableStyleHead=@RazorComponentUtils.GetTableHeadStyle(new() { 15, 35, 15, 35 }) />
	<tbody>
		<RazorItemTableBody TItem=@DeviceModel ParentRazor=@(this) />
		<tr>
			<td>@LocaleCore.Table.LoginDt</td>
			<td>
				<RadzenTextBox 
					Style="width: 100%; text-align: center; background-color: lightgray; "
					ReadOnly=true Value=@(StringUtils.FormatDtRus(SqlItemCast.LoginDt, true)) />
			</td>
			<td>@LocaleCore.Table.LogoutDt</td>
			<td>
				<RadzenTextBox 
					Style="width: 100%; text-align: center; background-color: lightgray; "
					ReadOnly=true Value=@(StringUtils.FormatDtRus(SqlItemCast.LogoutDt, true)) />
			</td>
		</tr>
		<tr>
			<td>@LocaleCore.Table.Device</td>
			<td>
				<RadzenLink 
					Style="width: 100%; "
					Path=@($"{LocaleCore.DeviceControl.RouteItemDevice}/{SqlItemCast.IdentityValueUid}")
				    Text=@SqlItemCast.Name />
			</td>
			<td colspan=2>
				<RadzenLink 
					Style="width: 100%; "
					Path=@($"{LocaleCore.DeviceControl.RouteItemDevice}/{SqlItemCast.IdentityValueUid}")
				    Text=@SqlItemCast.IdentityValueUid.ToString() />
			</td>
		</tr>
		<tr>
			<td>@LocaleCore.Table.Name</td>
			<td>
				<RadzenTextBox 
					Style="width: 100%; text-align: center; background-color: lightgray; "
					ReadOnly=true Value=@SqlItemCast.Name />
			</td>
			<td>@LocaleCore.Table.PrettyName</td>
			<td>
				<RadzenTextBox 
					Style="width: 100%; text-align: center; background-color: lightgray; "
					ReadOnly=true Value=@SqlItemCast.PrettyName />
			</td>
		</tr>
		<tr>
			<td>@LocaleCore.Table.DeviceIp</td>
			<td>
				<RadzenTextBox 
					Style="width: 100%; text-align: center; background-color: lightgray; "
					ReadOnly=true Value=@SqlItemCast.Ipv4 />
			</td>
			<td>@LocaleCore.Table.DeviceMac</td>
			<td>
				<RadzenTextBox 
					Style="width: 100%; text-align: center; background-color: lightgray; "
					ReadOnly=true Value=@SqlItemCast.MacAddress.ValuePrettyLookMinus />
			</td>
		</tr>
		<tr>
			<td>@LocaleCore.Table.Description</td>
			<td colspan=3>
				<RadzenTextArea 
					Style="width: 100%; text-align: left; background-color: lightgray; " 
					ReadOnly=true Value=@SqlItemCast.Description Rows=4 />
			</td>
		</tr>
		<tr>
			<td>@LocaleCore.Table.DeviceType</td>
			<td>
				<RadzenLink 
					Style="width: 100%; "
					Path=@GetRouteItemPath(LocaleCore.DeviceControl.RouteItemDeviceType, DeviceTypeFk.DeviceType, DeviceTypeFk.IdentityValueUid)
					Text=@DeviceTypeFk.DeviceType.Name />
			</td>
			<td colspan=2>
				<RadzenLink 
					Style="width: 100%; "
					Path=@GetRouteItemPath(LocaleCore.DeviceControl.RouteItemDeviceType, DeviceTypeFk.DeviceType, DeviceTypeFk.DeviceType.IdentityValueUid)
					Text=@DeviceTypeFk.DeviceType.IdentityValueUid.ToString() />
			</td>
		</tr>
		<tr>
			<td>@LocaleCore.Table.DeviceType</td>
			<td>
				<RadzenTextBox 
					Style="width: 100%; text-align: center; background-color: lightgray; "
					ReadOnly=true Value=@DeviceTypeFk.DeviceType.Name />
			</td>
			<td>@LocaleCore.Table.PrettyName</td>
			<td>
				<RadzenTextBox 
					Style="width: 100%; text-align: center; background-color: lightgray; "
					ReadOnly=true Value=@DeviceTypeFk.DeviceType.PrettyName />
			</td>
		</tr>
		<tr>
			<td>@LocaleCore.Table.Description</td>
			<td colspan=3>
				<RadzenTextArea 
					Style="width: 100%; text-align: left; background-color: lightgray; "
					ReadOnly=true Value=@DeviceTypeFk.DeviceType.Description Rows=4 />
			</td>
		</tr>
	</tbody>
</MudSimpleTable>

<RazorItemActions TItem=@DeviceModel ParentRazor=@(this) />
<RazorItemDates TItem=@DeviceModel ParentRazor=@(this) />
