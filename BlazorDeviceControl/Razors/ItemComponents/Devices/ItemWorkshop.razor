@using DataCore.Sql.TableScaleModels.WorkShops
@using DataCore.Sql.TableScaleModels.ProductionFacilities
@inherits RazorComponentItemBase<DataCore.Sql.TableScaleModels.WorkShops.WorkShopModel>
@page "/item/workshop"
@page "/item/workshop/new"
@page "/item/workshop/{IdentityId:long}"

<RazorItemReload TItem="@WorkShopModel" ParentRazor="@(this)" Title="@LocaleCore.DeviceControl.ItemWorkshop"/>

<MudSimpleTable Class="MudItemTable" Dense="true" Bordered="true" FixedHeader="false">
  <RazorItemTableHead CssTableStyleHead="@RazorComponentUtils.GetTableHeadStyle(new() { 25, 25, 25, 25 })"/>
  <tbody>
  <RazorItemTableBody TItem="@WorkShopModel" ParentRazor="@(this)"/>
  <tr>
    <td>@LocaleCore.Table.Name</td>
    <td colspan="3">
      <RadzenTextBox Style="width: 100%; text-align: left;"
                     Disabled="false" ReadOnly="false"
                     TValue="string" @bind-Value="@SqlItemCast.Name"/>
    </td>
  </tr>
  <tr>
    <td>
      <RadzenLink Style="width: 100%; margin-left: 0; "
                  Path="@GetRouteItemPath(LocaleCore.DeviceControl.RouteItemProductionFacility, SqlItemCast.ProductionFacility, SqlItemCast.ProductionFacility.IdentityValueId)"
                  Text="@LocaleCore.Table.ProductionFacility"/>
    </td>
    <td colspan="3">
      <MudSelect Class="MudSelect" Variant="@Variant.Outlined" Margin="@Margin.Dense"
                 @bind-Value="@SqlItemCast.ProductionFacility">
        @foreach (ProductionFacilityModel item in DataContext.ProductionFacilities)
        {
          <MudSelectItem Value=@item>@item.Name</MudSelectItem>
        }
      </MudSelect>
    </td>
  </tr>
  </tbody>
</MudSimpleTable>

<RazorItemActions TItem="@WorkShopModel" ButtonSettings="@ButtonSettings" ParentRazor="@(this)"/>
<RazorItemDates SqlItem="@SqlItem"/>
