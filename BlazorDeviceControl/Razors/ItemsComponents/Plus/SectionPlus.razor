@inherits RazorPageSectionBase<PluModel, SqlTableBase>
@page "/items/plus"
@using BlazorCore.Razors
@using BlazorDeviceControl.Razors.ItemsComponents.Components
@using BlazorDeviceControl.Razors.ShareComponents

@if (!IsActionsParametersSetFinished)
{
	<ActionsLoad DataLoadItem=ActionLoadEnum.Loading IsShowProgress=true />
}
else
{
	<SectionReload TItems=PluModel TItemFilter=PluModel ParentRazor=@(this) Title=@LocaleCore.DeviceControl.SectionPlus />

    <RadzenGrid 
        Data=@ItemsCast TItem=PluModel 
        RowDoubleClick=@(_ => ActionEditAsync(UserSettings))
        AllowFiltering=true FilterCaseSensitivity=FilterCaseSensitivity.CaseInsensitive FilterMode="FilterMode.Advanced"
        AllowPaging=true PageSize=@AppSettings.DataAccess.JsonSettingsLocal.SectionRowsCount AllowSorting=true >
	    <Columns>
			<SectionFieldIsMarked TItems=PluModel TItemFilter=PluModel ParentRazor=@(this) />
			<SectionFieldIdentity TItems=PluModel TItemFilter=PluModel ParentRazor=@(this) />
			<SectionField TItems=PluModel TItemFilter=PluModel ParentRazor=@(this) CssStyleRadzenColumn=@(new("50%", true))
				RazorFieldConfig=@RazorFieldConfigUtils.Plu.GetName() />
			<SectionField TItems=PluModel TItemFilter=PluModel ParentRazor=@(this) CssStyleRadzenColumn=@(new("7%", true))
				RazorFieldConfig=@RazorFieldConfigUtils.Plu.GetShelfLifeDays() />
			<SectionField TItems=PluModel TItemFilter=PluModel ParentRazor=@(this) CssStyleRadzenColumn=@(new("7%", true))
				RazorFieldConfig=@RazorFieldConfigUtils.Plu.GetTareWeight() />
			<SectionField TItems=PluModel TItemFilter=PluModel ParentRazor=@(this) CssStyleRadzenColumn=@(new("7%", true))
				RazorFieldConfig=@RazorFieldConfigUtils.Plu.GetBoxQuantly() />
	    </Columns>
    </RadzenGrid>

	<SectionButtons TItems=PluModel TItemFilter=PluModel ParentRazor=@(this) />
}
