@inherits BlazorCore.Models.RazorPageBase
@page "/item/plu_weighings"
@page "/item/plu_weighings/{IdentityId:long}"
@page "/item/plu_weighings/{IdentityId:long}/{TableAction}"
@using BlazorDeviceControl.Razors.Components
@using ActionsReloadItem = BlazorDeviceControl.Razors.Components.ActionsReloadItem
@using ActionsSave = BlazorDeviceControl.Razors.Components.ActionsSave
@using ItemDates = BlazorDeviceControl.Razors.Components.ItemDates
@using BlazorCore.Razors

@if (!IsActionsParametersSetFinished)
{
    <ActionsLoad ParentRazor=@(this) DataLoadItem=ActionLoad.Loading IsShowProgress=true />
}
else
{
    <ActionsReloadItem ParentRazor=@(this) Title=@LocaleCore.DeviceControl.ItemLabel />

	<MudSimpleTable Style="overflow-x: auto;" Dense=true Bordered=true FixedHeader=false>
		<ItemTableHead ParentRazor=@(this) TableStyle=@ComponentsUtils.GetTableHeadStyle(new() { 20, 30, 20, 30 }) />
		<tbody>
			<ItemTableBody ParentRazor=@(this) TableStyle=@ComponentsUtils.GetTableBodyStyle(ColumnName.Id, true) />
			@*<tr>
				<td>@LocaleCore.Table.WeithingDate</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Value=@ItemCast.WeithingDate.ToString(CultureInfo.InvariantCulture)
					               Disabled=false ReadOnly=true DateFormat="yyyy-MM-dd HH:mm:ss"/>
				</td>
				<td>@LocaleCore.Table.ProductDate</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Value=@ItemCast.ProductDate.ToString(CultureInfo.InvariantCulture)
					               Disabled=false ReadOnly=true DateFormat="yyyy-MM-dd HH:mm:ss"/>
				</td>
			</tr>
			<tr>
				<td>@LocaleCore.Table.Scale</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					    Disabled=false ReadOnly=true
					    @bind-Value=@ItemCast.Scale.Description/>
				</td>
				<td>@LocaleCore.Table.Host</td>
				<td>
					@if (ItemCast.Scale.Host == null)
					{
						<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
						               Disabled=false ReadOnly=true
						               Value=@("")/>
					}
					else
					{
						<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
						               Disabled=false ReadOnly=true
						               @bind-Value=@(ItemCast.Scale.Host.HostName)/>
					}
				</td>
			</tr>
			<tr>
				<td>@LocaleCore.Table.Plu</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Disabled=false ReadOnly=true Value=@ItemCast.Plu.Identity.Id.ToString()/>
				</td>
				<td>@LocaleCore.Table.PluNumber</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Disabled=false ReadOnly=true Value=@ItemCast.Plu.PluNumber.ToString()/>
				</td>
			</tr>
			<tr>
				<td>@LocaleCore.Table.Nomenclature</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Disabled=false ReadOnly=true @bind-Value=@ItemCast.Plu.Nomenclature.Name/>
				</td>
				<td>@LocaleCore.Table.GoodsName</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Disabled=false ReadOnly=true @bind-Value=@ItemCast.Plu.GoodsName/>
				</td>
			</tr>
			<tr>
				<td>@LocaleCore.Table.NetWeight</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Disabled=false ReadOnly=true Value=@ItemCast.NetWeight.ToString(CultureInfo.InvariantCulture)/>
				</td>
				<td>@LocaleCore.Table.TareWeight</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Disabled=false ReadOnly=true Value=@ItemCast.TareWeight.ToString(CultureInfo.InvariantCulture)/>
				</td>
			</tr>
			<tr>
				<td>@LocaleCore.Table.RegNum</td>
				<td >
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Disabled=false ReadOnly=true Value=@ItemCast.RegNum.ToString()/>
				</td>
				<td>@LocaleCore.Table.IsKneading</td>
				<td>
					<RadzenTextBox Style="width: 100%; text-align: center; background-color: lightgray;"
					               Disabled=false ReadOnly=true Value=@ItemCast.Kneading.ToString()/>
				</td>
			</tr>*@
		</tbody>
	</MudSimpleTable>
    
    <ActionsSave ParentRazor=@(this) ButtonSettings=@ButtonSettings />
    <ItemDates ParentRazor=@(this) />
}
