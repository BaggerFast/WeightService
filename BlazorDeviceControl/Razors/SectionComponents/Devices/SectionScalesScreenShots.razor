@inherits RazorComponentSectionBase<DataCore.Sql.TableScaleModels.ScalesScreenshots.ScaleScreenShotModel, DataCore.Sql.TableScaleModels.Scales.ScaleModel>
@page "/section/scales_screenshots"
@using BlazorCore.Razors
@using DataCore.Sql.TableScaleModels.Scales
@using DataCore.Sql.TableScaleModels.ScalesScreenshots

<RazorSectionReload TItem=@ScaleScreenShotModel TItemFilter=@ScaleModel ParentRazor=@(this) Title=@LocaleCore.DeviceControl.SectionScreenShots SqlCrudConfigSection="@SqlCrudConfigSection" />

<RadzenGrid 
    PagerHorizontalAlign=@HorizontalAlign.Justify
	Style="margin-top: 5px;"
	Data=@SqlSectionCast TItem=@ScaleScreenShotModel
	RowClick=@(SqlItemSetAsync) 
	RowDoubleClick=@(_ => SqlItemEditAsync())
    AllowPaging=true PageSize=@DataAccess.JsonSettings.Local.SectionRowsCount AllowSorting=true >
    <Columns>
		<RazorSectionFieldIsMarked TItem=@ScaleScreenShotModel ParentRazor=@(this) SqlCrudConfigSection="@SqlCrudConfigSection" />
		<RadzenGridColumn TItem=@ScaleScreenShotModel Width="12%" TextAlign=@TextAlign.Center Title=@LocaleCore.Table.ChangeDt>
			<Template Context="itemCast">
				<RadzenLink TextStyle=@TextStyle.Body2
					Text=@(StringUtils.FormatDtRus(itemCast.ChangeDt, true, true)) 
					Path=@($"{LocaleCore.DeviceControl.RouteItemScaleScreenShot}/{itemCast.IdentityValueUid}") />
			</Template>
		</RadzenGridColumn>
		<RadzenGridColumn TItem=@ScaleScreenShotModel Width="40%" TextAlign=@TextAlign.Left Title=@LocaleCore.Table.Scale>
			<Template Context="itemCast">
				<RadzenLink TextStyle=@TextStyle.Body2
					Text=@itemCast.Scale.Description
                    Path=@($"{LocaleCore.DeviceControl.RouteItemScaleScreenShot}/{itemCast.IdentityValueUid}") />
			</Template>
		</RadzenGridColumn>
		<RadzenGridColumn TItem=@ScaleScreenShotModel Width="43%" TextAlign=@TextAlign.Left Title=@LocaleCore.Table.ScreenShot>
			<Template Context="itemCast">
				<RadzenLink TextStyle=@TextStyle.Body2
                    Text=@($"{DataUtils.GetBytesLength(itemCast.ScreenShot, false)}") 
                    Path=@($"{LocaleCore.DeviceControl.RouteItemScaleScreenShot}/{itemCast.IdentityValueUid}") />
			</Template>
		</RadzenGridColumn>
    </Columns>
</RadzenGrid>

<RazorSectionActions TItem="@ScaleScreenShotModel" ButtonSettings="@ButtonSettings" ParentRazor=@(this) />