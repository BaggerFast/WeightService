@inherits RazorComponentSectionBase<WeithingFactSummaryModel, SqlTableBase>
@page "/section/plus_weighings_aggr"
@using BlazorCore.Razors
@using DataCore.Sql.Xml
@using BlazorDeviceControl.Razors.SystemComponents

<SystemIdentity ParentRazor=@(this) />

<RazorSectionReload TItem=@WeithingFactSummaryModel TItemFilter=@SqlTableBase ParentRazor=@(this) Title=@LocaleCore.DeviceControl.SectionWeithingFactsAggregation />

<RadzenGrid PagerHorizontalAlign=@HorizontalAlign.Justify
			Style="margin-top: 5px;"
	Data=@SqlSectionCast TItem=@WeithingFactSummaryModel 
	RowClick=@(SqlItemSetAsync) RowRender=@(args => RowRender(args))
	AllowFiltering=true FilterCaseSensitivity=FilterCaseSensitivity.CaseInsensitive FilterMode="FilterMode.Advanced"
    AllowPaging=true PageSize=@DataAccess.JsonSettings.Local.SectionRowsCount AllowSorting=true >
    <Columns>
        <RazorSectionFieldIsMarked TItem=@WeithingFactSummaryModel ParentRazor=@(this) />
        <RadzenGridColumn 
	        TItem=@WeithingFactSummaryModel Width="15%"
	        Title=@LocaleCore.Table.WeithingDt >
	        <Template Context="itemCast" >
		        <RadzenText 
			        TextAlign=@TextAlign.Center TextStyle=@TextStyle.Body2
			        Text=@(StringUtils.FormatDtRus(itemCast.WeithingDate, true)) />
	        </Template>
        </RadzenGridColumn>
        <RadzenGridColumn 
	        TItem=@WeithingFactSummaryModel Width="15%"
            Title=@LocaleCore.Table.DayOfWeek >
            <Template Context="itemCast" >
	            <RadzenText 
		            TextAlign=@TextAlign.Center TextStyle=@TextStyle.Body2
		            Text=@EnumUtils.GetDayOfWeekRu(itemCast.WeithingDate.DayOfWeek) />
            </Template>
        </RadzenGridColumn>
        <RadzenGridColumn 
	        TItem=@WeithingFactSummaryModel Width="15%"
	        Title=@LocaleCore.Table.Count >
	        <Template Context="itemCast" >
		        <RadzenText 
			        TextAlign=@TextAlign.Center TextStyle=@TextStyle.Body2
			        Text=@itemCast.Count.ToString() />
	        </Template>
        </RadzenGridColumn>
        <RadzenGridColumn 
	        TItem=@WeithingFactSummaryModel Width="55%" 
            Title=@LocaleCore.Table.Scale >
			<Template Context="itemCast" >
				<RadzenText 
					TextAlign=@TextAlign.Center TextStyle=@TextStyle.Body2
					Text=@itemCast.Scale />
			</Template>
        </RadzenGridColumn>

    </Columns>
</RadzenGrid>

<RazorSectionActions TItem=@WeithingFactSummaryModel ParentRazor=@(this) />
